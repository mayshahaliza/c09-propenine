<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <title>Update Product</title>
    <object th:insert="~{fragments/common :: css}" th:remove="tag"></object>
    <object th:insert="~{fragments/common :: js}" th:remove="tag"></object>
</head>
<body>
    <div th:switch="${user.role}">
        <div th:case="'admin'">
            <nav th:replace="~{fragments/admin_navbar :: admin_navbar}"></nav>
        </div>
        <div th:case="'operational'">
            <nav th:replace="~{fragments/operational_navbar :: operational_navbar}"></nav>
        </div>
    </div>
    <div class="container py-lg-5">
        <div class="text-center" th:if="${user.role == 'operational' || user.role == 'admin'}">
        <div class="card mx-lg-5">
            <h2 class="card-header text-center p-3">
                Update Product
            </h2>
            <div class="card-body">
                <div class="justify-content-center">
                    <form th:action="@{'/product/update/'} + ${productDTO.idProduct}" th:object="${productDTO}" method="POST" class="mx-4">
                        ID:
                        <input required class="form-control" type="text" name="idProduct" th:value="*{idProduct}" readonly />
                        <br><br>

                        Product Name:
                        <input required class="form-control" type="text" name="namaProduct" th:value="*{namaProduct}" />
                        <br><br>

                        Category:
                        <select id="kategori-katalog" th:field="*{kategori}" class="form-control">
                            <option value="">Pilih kategori</option>
                            <option th:each="kategori : ${allKategori}" th:value="${kategori.id}" th:text="${kategori.namaKategori}"></option>
                        </select>
                        <br><br>
                        
                        Description:
                        <input class="form-control" type="text" name="deskripsi" th:value="*{deskripsi}" required/>
                        <br><br>

                        Product Image:
                        <input type="file" name="image" th:value="*{image}" class="form-control"/>
                        <br><br>

                        Stock:
                        <input required class="form-control" type="number" name="stok"
                            th:value="*{stok}" min="0" step="1"/>
                        <br><br>

                        Price:
                        <input required class="form-control" type="number" name="harga"
                            th:value="*{harga}" min="0" step="1"/>
                        <br><br>

                        <div class="text-center">
                            <a class="btn btn-danger" th:href="@{/stok}">Batal</a>
                            <button class="btn btn-primary" type="submit" name="submit">Simpan</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
        <div th:unless="${user.role == 'operational' || user.role == 'admin'}">
            <script th:inline="javascript">
         /*<![CDATA[*/
         window.location.replace('/no-access');
         /*]]>*/
     </script>
        </div>
</body>
</html>